---
import Base from './Base.astro';
import TopNav from '../components/TopNav.astro';
import Sidebar from '../components/Sidebar.astro';
import MobileNav from '../components/MobileNav.astro';

interface Props {
  title: string;
  description?: string;
  image?: string;
  googleAnalyticsId?: string;
  googleAdsenseClient?: string;
  productionHostname?: string;
  // Navigation Data
  navData: {
    sections: any[];
    // Backwards compatibility
    categoryTree?: any;
    sortedCategories?: string[];
  }
}

const { title, description, image, googleAnalyticsId, googleAdsenseClient, productionHostname, navData } = Astro.props;
---

<Base
  title={title}
  description={description}
  image={image}
  googleAnalyticsId={googleAnalyticsId}
  googleAdsenseClient={googleAdsenseClient}
  productionHostname={productionHostname}
>
  <!-- Top Navigation -->
  <TopNav />

  <!-- Mobile Navigation -->
  <MobileNav sections={navData.sections} />

  <!-- Desktop Sidebar -->
  <div class="hidden md:block">
    <Sidebar sections={navData.sections} />
  </div>

  <!-- Main Content Area -->
  <main class="min-h-screen pt-16 md:ml-[calc(max(2rem,calc((100vw-1400px)/2))+18rem)] md:mr-[max(2rem,calc((100vw-1400px)/2))]">
    <slot />
  </main>
</Base>
